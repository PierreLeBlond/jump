[gd_scene load_steps=17 format=4 uid="uid://du3h5s2qmlptu"]

[ext_resource type="Script" uid="uid://bhswxscxn2py5" path="res://scripts/levels/Escape.gd" id="1_2duye"]
[ext_resource type="PackedScene" uid="uid://27vdgqlbgpml" path="res://scenes/Player.tscn" id="1_ij67t"]
[ext_resource type="TileSet" uid="uid://yuvk2fmol82y" path="res://tilesets/Blocks.tres" id="2_2duye"]
[ext_resource type="Script" uid="uid://cik1brjqdcv0" path="res://scripts/camera/Camera.gd" id="3_5ax1d"]
[ext_resource type="Script" uid="uid://dfh6a42d2dq0n" path="res://scripts/collectibles/NoteCollector.gd" id="3_fs813"]
[ext_resource type="PackedScene" uid="uid://b8dorlf7ulbwy" path="res://scenes/SoubaCoupe.tscn" id="4_u2p7o"]
[ext_resource type="Script" uid="uid://xd4woi41uhf2" path="res://scripts/camera/CameraOverrideArea.gd" id="6_5ax1d"]
[ext_resource type="PackedScene" uid="uid://4wsynq3xc0sr" path="res://scenes/collectibles/Note.tscn" id="7_u2p7o"]
[ext_resource type="PackedScene" uid="uid://cgexvf3ochgd8" path="res://scenes/areas/EndArea.tscn" id="9_e4r20"]
[ext_resource type="PackedScene" uid="uid://mfaxiu15banr" path="res://scenes/ui/TitleScreen.tscn" id="10_mmd2o"]
[ext_resource type="Script" uid="uid://juvvajbrsiyg" path="res://scripts/ui/hud/CollectorLabel.gd" id="12_i654n"]

[sub_resource type="Curve2D" id="Curve2D_i654n"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, -127, 65, 0, 0, 0, 0, 1667, 66, 0, 0, 0, 0, 2174, -129, 0, 0, 0, 0, 2176, -448, 0, 0, 0, 0, 2688, -448, 0, 0, 0, 0, 2688, -64, 0, 0, 0, 0, 3200, -64)
}
point_count = 7

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fs813"]
size = Vector2(26, 44)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5ax1d"]
size = Vector2(352, 864)

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_fs813"]
scenes/1/scene = ExtResource("7_u2p7o")

[sub_resource type="TileSet" id="TileSet_t6keq"]
sources/0 = SubResource("TileSetScenesCollectionSource_fs813")

[node name="Escape" type="Node2D" node_paths=PackedStringArray("player", "souba_coupe", "souba_coupe_path_follow")]
script = ExtResource("1_2duye")
player = NodePath("Player")
souba_coupe = NodePath("Path2D/PathFollow2D/SoubaCoupe")
souba_coupe_path_follow = NodePath("Path2D/PathFollow2D")

[node name="Path2D" type="Path2D" parent="."]
curve = SubResource("Curve2D_i654n")

[node name="PathFollow2D" type="PathFollow2D" parent="Path2D"]
position = Vector2(-127, 65)
rotates = false
loop = false

[node name="SoubaCoupe" parent="Path2D/PathFollow2D" node_paths=PackedStringArray("player") instance=ExtResource("4_u2p7o")]
position = Vector2(0, -32)
player = NodePath("../../../Player")
cone_angle = 0.42
cone_height = 448.0

[node name="Player" parent="." instance=ExtResource("1_ij67t")]
position = Vector2(265, 425)

[node name="NoteCollectorArea2D" type="Area2D" parent="Player"]
process_mode = 3
collision_layer = 0
collision_mask = 8
script = ExtResource("3_fs813")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player/NoteCollectorArea2D"]
shape = SubResource("RectangleShape2D_fs813")

[node name="TileMapLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAAAAA8AAAABAAAAAAABAA8AAAABAAAAAAACAA8AAAABAAAAAAADAA8AAAABAAAAAAAEAA8AAAABAAAAAAAFAA8AAAABAAAAAAAGAA8AAAABAAAAAAAHAA8AAAABAAAAAAAIAA8AAAABAAAAAAAJAA8AAAABAAAAAAAKAA8AAAABAAAAAAALAA8AAAABAAAAAAAMAA8AAAABAAAAAAANAA8AAAABAAAAAAAOAA8AAAABAAAAAAAPAA8AAAABAAAAAAAQAA8AAAABAAAAAAARAA8AAAABAAAAAAASAA8AAAABAAAAAAATAA8AAAABAAAAAAAUAA8AAAABAAAAAAAVAA8AAAABAAAAAAAWAA8AAAABAAAAAAAXAA8AAAABAAAAAAAYAA8AAAABAAAAAAAZAA8AAAABAAAAAAAaAA8AAAABAAAAAAAbAA8AAAABAAAAAAAcAA8AAAABAAAAAAAdAA8AAAABAAAAAAAeAA8AAAABAAAAAAAfAA8AAAABAAAAAAD//w8AAAABAAAAAAD+/w8AAAABAAAAAAD9/w8AAAABAAAAAAD8/w8AAAABAAAAAAD7/w8AAAABAAAAAAD6/w8AAAABAAAAAAD5/w8AAAABAAAAAAD4/w8AAAABAAAAAAD3/w8AAAABAAAAAAD2/w8AAAABAAAAAAD1/w8AAAABAAAAAAD0/w8AAAABAAAAAADz/w8AAAABAAAAAADy/w8AAAABAAAAAADx/w8AAAABAAAAAADw/w8AAAABAAAAAADv/w8AAAABAAAAAADu/w8AAAABAAAAAADt/w8AAAABAAAAAADs/w8AAAABAAAAAADr/w8AAAABAAAAAAAgAA8AAAABAAAAAAAhAA8AAAABAAAAAAAiAA8AAAABAAAAAAAjAA8AAAABAAAAAAAkAA8AAAABAAAAAAAlAA8AAAABAAAAAAAmAA8AAAABAAAAAAAnAA8AAAABAAAAAAAoAA8AAAABAAAAAAApAA8AAAABAAAAAAAqAA8AAAABAAAAAAArAA8AAAABAAAAAAAsAA8AAAABAAAAAAAtAA8AAAABAAAAAAAuAA8AAAABAAAAAAAvAA8AAAABAAAAAAAwAA8AAAABAAAAAAAxAA8AAAABAAAAAAAyAA8AAAABAAAAAAAzAA8AAAABAAAAAAA0AA8AAAABAAAAAAA1AA8AAAABAAAAAAA2AA8AAAABAAAAAAA3AA8AAAABAAAAAAA4AA8AAAABAAAAAAA7AA8AAAABAAAAAAA8AA8AAAABAAAAAAA9AA8AAAABAAAAAAA+AA8AAAABAAAAAAA/AA8AAAABAAAAAABAAA8AAAABAAAAAABBAA8AAAABAAAAAABCAA8AAAABAAAAAABDAA8AAAABAAAAAABEAA8AAAABAAAAAABFAA8AAAABAAAAAABGAA8AAAABAAAAAABHAA8AAAABAAAAAABIAA8AAAABAAAAAAA5AA8AAAABAAAAAAA6AA8AAAABAAAAAABQAAAAAAABAAAAAABJAA8AAAABAAAAAABKAA8AAAABAAAAAABLAA8AAAABAAAAAABMAA8AAAABAAAAAABNAA8AAAABAAAAAABOAA8AAAABAAAAAABPAA8AAAABAAAAAABQAA8AAAABAAAAAABRAA8AAAABAAAAAABSAA8AAAABAAAAAABTAA8AAAABAAAAAABUAA8AAAABAAAAAABVAA8AAAABAAAAAABWAA8AAAABAAAAAABXAA8AAAABAAAAAABYAA8AAAABAAAAAABZAA8AAAABAAAAAABaAA8AAAABAAAAAABbAA8AAAABAAAAAABcAA8AAAABAAAAAABdAA8AAAABAAAAAABeAA8AAAABAAAAAABfAA8AAAABAAAAAABgAA8AAAABAAAAAABhAA8AAAABAAAAAABiAA8AAAABAAAAAABjAA8AAAABAAAAAABkAA8AAAABAAAAAABlAA8AAAABAAAAAABlAAAAAAABAAAAAABlAAEAAAABAAAAAABlAAIAAAABAAAAAABlAAMAAAABAAAAAABlAAQAAAABAAAAAABlAAUAAAABAAAAAABlAAYAAAABAAAAAABlAAcAAAABAAAAAABlAAgAAAABAAAAAABlAAkAAAABAAAAAABlAAoAAAABAAAAAABlAAsAAAABAAAAAABlAAwAAAABAAAAAABlAA0AAAABAAAAAABlAA4AAAABAAAAAAAOAA4AAAABAAAAAAAOAA0AAAABAAAAAAAPAA0AAAABAAAAAAAPAA4AAAABAAAAAAATAA4AAAABAAAAAAATAA0AAAABAAAAAAATAAwAAAABAAAAAAAUAAwAAAABAAAAAAAUAA0AAAABAAAAAAAUAA4AAAABAAAAAAAdAA4AAAABAAAAAAAdAA0AAAABAAAAAAAdAAwAAAABAAAAAAAdAAsAAAABAAAAAAAdAAoAAAABAAAAAAAdAAkAAAABAAAAAAAdAAgAAAABAAAAAAAdAAcAAAABAAAAAAAZAAsAAAABAAAAAAAZAAoAAAABAAAAAAAZAAkAAAABAAAAAAAZAAgAAAABAAAAAAAZAAcAAAABAAAAAAAZAAYAAAABAAAAAAAZAAUAAAABAAAAAAAZAAQAAAABAAAAAAAZAAMAAAABAAAAAAAhAAoAAAABAAAAAAAiAAoAAAABAAAAAAAjAAoAAAABAAAAAAAkAAoAAAABAAAAAAAnAAgAAAABAAAAAAAoAAgAAAABAAAAAAApAAgAAAABAAAAAAAqAAgAAAABAAAAAAAuAAYAAAABAAAAAAAtAAYAAAABAAAAAAAvAAYAAAABAAAAAAAwAAYAAAABAAAAAAAwAAcAAAABAAAAAAAwAAgAAAABAAAAAAAwAAkAAAABAAAAAAAwAAoAAAABAAAAAAAwAAsAAAABAAAAAAAwAAwAAAABAAAAAAAwAA0AAAABAAAAAAAwAA4AAAABAAAAAAA2AA4AAAABAAAAAAA2AA0AAAABAAAAAAA2AAwAAAABAAAAAAA3AAwAAAABAAAAAAA3AA0AAAABAAAAAAA3AA4AAAABAAAAAAA6AA4AAAABAAAAAAA6AA0AAAABAAAAAAA6AAwAAAABAAAAAAA6AAsAAAABAAAAAAA6AAoAAAABAAAAAAA7AAoAAAABAAAAAAA7AAsAAAABAAAAAAA7AAwAAAABAAAAAAA7AA0AAAABAAAAAAA7AA4AAAABAAAAAAA+AA4AAAABAAAAAAA+AA0AAAABAAAAAAA+AAwAAAABAAAAAAA+AAsAAAABAAAAAAA+AAoAAAABAAAAAAA+AAkAAAABAAAAAAA+AAgAAAABAAAAAAA/AAgAAAABAAAAAAA/AAkAAAABAAAAAAA/AAoAAAABAAAAAAA/AAsAAAABAAAAAAA/AAwAAAABAAAAAAA/AA0AAAABAAAAAAA/AA4AAAABAAAAAABCAA4AAAABAAAAAABCAA0AAAABAAAAAABCAAwAAAABAAAAAABCAAsAAAABAAAAAABCAAoAAAABAAAAAABCAAkAAAABAAAAAABCAAgAAAABAAAAAABCAAcAAAABAAAAAABCAAYAAAABAAAAAABDAAYAAAABAAAAAABDAAcAAAABAAAAAABDAAgAAAABAAAAAABDAAkAAAABAAAAAABDAAoAAAABAAAAAABDAAsAAAABAAAAAABDAAwAAAABAAAAAABDAA0AAAABAAAAAABDAA4AAAABAAAAAABGAAEAAAABAAAAAABGAAIAAAABAAAAAABGAAMAAAABAAAAAABGAAQAAAABAAAAAABGAAUAAAABAAAAAABGAAYAAAABAAAAAABGAAcAAAABAAAAAABGAAgAAAABAAAAAABGAAkAAAABAAAAAABGAAoAAAABAAAAAABGAAsAAAABAAAAAABGAAwAAAABAAAAAABHAAwAAAABAAAAAABIAAwAAAABAAAAAABJAAwAAAABAAAAAABKAAwAAAABAAAAAABNAA4AAAABAAAAAABNAA0AAAABAAAAAABNAAwAAAABAAAAAABNAAsAAAABAAAAAABNAAoAAAABAAAAAABNAAkAAAABAAAAAABNAAgAAAABAAAAAABNAAcAAAABAAAAAABNAAYAAAABAAAAAABNAAUAAAABAAAAAABNAAQAAAABAAAAAABNAAMAAAABAAAAAABQAAEAAAABAAAAAABQAAIAAAABAAAAAABQAAMAAAABAAAAAABQAAQAAAABAAAAAABQAAUAAAABAAAAAABQAAkAAAABAAAAAABRAAkAAAABAAAAAABSAAkAAAABAAAAAABTAAkAAAABAAAAAABUAAkAAAABAAAAAABVAAkAAAABAAAAAABWAAkAAAABAAAAAABXAAkAAAABAAAAAABYAAkAAAABAAAAAABZAAkAAAABAAAAAABaAAkAAAABAAAAAABbAAkAAAABAAAAAABcAAkAAAABAAAAAABdAAkAAAABAAAAAABeAAkAAAABAAAAAABfAAkAAAABAAAAAABgAAkAAAABAAAAAABhAAkAAAABAAAAAABiAAkAAAABAAAAAABjAAkAAAABAAAAAABkAAkAAAABAAAAAABgAAcAAAABAAAAAABhAAcAAAABAAAAAABiAAcAAAABAAAAAABjAAcAAAABAAAAAABjAAYAAAABAAAAAABjAAUAAAABAAAAAABjAAQAAAABAAAAAABjAAMAAAABAAAAAABjAAIAAAABAAAAAABiAAIAAAABAAAAAABhAAIAAAABAAAAAABgAAIAAAABAAAAAABfAAIAAAABAAAAAABfAAcAAAABAAAAAABeAAcAAAABAAAAAABeAAYAAAABAAAAAABeAAMAAAABAAAAAABeAAIAAAABAAAAAABGAAAAAAABAAAAAABGAP//AAABAAAAAABGAP7/AAABAAAAAABGAP3/AAABAAAAAABGAPz/AAABAAAAAABGAPv/AAABAAAAAABGAPr/AAABAAAAAABGAPn/AAABAAAAAABGAPj/AAABAAAAAABGAPf/AAABAAAAAABGAPb/AAABAAAAAABGAPX/AAABAAAAAABMAAYAAAABAAAAAABLAAYAAAABAAAAAABKAAYAAAABAAAAAABNAAIAAAABAAAAAABNAAEAAAABAAAAAABNAAAAAAABAAAAAABNAP//AAABAAAAAABNAP7/AAABAAAAAABQAP//AAABAAAAAABQAP7/AAABAAAAAABQAP3/AAABAAAAAABQAPz/AAABAAAAAABQAPv/AAABAAAAAABQAPr/AAABAAAAAABQAPn/AAABAAAAAABQAPj/AAABAAAAAABQAPf/AAABAAAAAABQAPb/AAABAAAAAABQAPX/AAABAAAAAABNAP3/AAABAAAAAABNAPz/AAABAAAAAABNAPv/AAABAAAAAABNAPr/AAABAAAAAABJAAAAAAABAAAAAABIAAAAAAABAAAAAABHAAAAAAABAAAAAABKAPr/AAABAAAAAABLAPr/AAABAAAAAABMAPr/AAABAAAAAABlAP//AAABAAAAAABlAP7/AAABAAAAAABlAP3/AAABAAAAAABlAPz/AAABAAAAAABlAPv/AAABAAAAAABlAPr/AAABAAAAAABlAPn/AAABAAAAAABlAPj/AAABAAAAAABlAPf/AAABAAAAAABlAPb/AAABAAAAAABlAPX/AAABAAAAAABlAPT/AAABAAAAAABlAPP/AAABAAAAAABlAPL/AAABAAAAAABlAPH/AAABAAAAAABlAPD/AAABAAAAAAA=")
tile_set = ExtResource("2_2duye")

[node name="Camera2D" type="Camera2D" parent="." node_paths=PackedStringArray("target")]
position = Vector2(512, 256)
script = ExtResource("3_5ax1d")
target = NodePath("../Player")

[node name="CameraOverrideArea" type="Area2D" parent="." node_paths=PackedStringArray("camera")]
position = Vector2(2416, 80)
collision_layer = 0
collision_mask = 2
script = ExtResource("6_5ax1d")
camera = NodePath("../Camera2D")

[node name="CollisionShape2D" type="CollisionShape2D" parent="CameraOverrideArea"]
shape = SubResource("RectangleShape2D_5ax1d")

[node name="NoteLayer" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAA4ABoAAAAAAAAAAQA5ABgAAAAAAAAAAQA0ABAAAAAAAAAAAQA0AA4AAAAAAAAAAQA2AAwAAAAAAAAAAQBuABYAAAAAAAAAAQBvABQAAAAAAAAAAQB2ABIAAAAAAAAAAQB3ABAAAAAAAAAAAQB+AA4AAAAAAAAAAQB/AAwAAAAAAAAAAQCZABkAAAAAAAAAAQCZABcAAAAAAAAAAQCZABUAAAAAAAAAAQCOABMAAAAAAAAAAQCOABEAAAAAAAAAAQCOAA8AAAAAAAAAAQCOAA0AAAAAAAAAAQCZAAcAAAAAAAAAAQCZAAUAAAAAAAAAAQCZAAMAAAAAAAAAAQCZAAEAAAAAAAAAAQCOAPv/AAAAAAAAAQCOAPn/AAAAAAAAAQCOAPf/AAAAAAAAAQCOAPX/AAAAAAAAAQCeAPn/AAAAAAAAAQCeAPz/AAAAAAAAAQCeAP//AAAAAAAAAQC2AA0AAAAAAAAAAQAXABcAAAAAAAAAAQAZABUAAAAAAAAAAQAbABYAAAAAAAAAAQAeABgAAAAAAAAAAQAjABEAAAAAAAAAAQAmABQAAAAAAAAAAQAoABYAAAAAAAAAAQA2ABwAAAAAAAAAAQA5ABUAAAAAAAAAAQA4ABIAAAAAAAAAAQA2AA8AAAAAAAAAAQA5AAkAAAAAAAAAAQA7AAwAAAAAAAAAAQBJABIAAAAAAAAAAQBHABIAAAAAAAAAAQBFABIAAAAAAAAAAQBNAAsAAAAAAAAAAQBLAA0AAAAAAAAAAQBPAA4AAAAAAAAAAQBRAA4AAAAAAAAAAQBTAA4AAAAAAAAAAQBZAAcAAAAAAAAAAQBWAAkAAAAAAAAAAQCEAAgAAAAAAAAAAQCGAAoAAAAAAAAAAQCYABIAAAAAAAAAAQCVABAAAAAAAAAAAQCTABQAAAAAAAAAAQCPAAgAAAAAAAAAAQCRAAQAAAAAAAAAAQCVAAUAAAAAAAAAAQCYAP3/AAAAAAAAAQCVAPj/AAAAAAAAAQCSAPr/AAAAAAAAAQCQAPL/AAAAAAAAAQCTAO//AAAAAAAAAQCVAPL/AAAAAAAAAQCfABwAAAAAAAAAAQCcABoAAAAAAAAAAQCcABIAAAAAAAAAAQCcABYAAAAAAAAAAQCgAA4AAAAAAAAAAQC1ABAAAAAAAAAAAQC4AAoAAAAAAAAAAQC7AAoAAAAAAAAAAQA=")
tile_set = SubResource("TileSet_t6keq")
collision_enabled = false

[node name="EndArea" parent="." instance=ExtResource("9_e4r20")]
position = Vector2(3104, 160)
next_scene = ExtResource("10_mmd2o")

[node name="HUD" type="CanvasLayer" parent="."]

[node name="CollectorLabel" type="Label" parent="HUD" node_paths=PackedStringArray("collector")]
offset_left = 896.0
offset_top = 41.0
offset_right = 936.0
offset_bottom = 64.0
script = ExtResource("12_i654n")
collector = NodePath("../../Player/NoteCollectorArea2D")
